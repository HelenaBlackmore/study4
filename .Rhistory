select(pp_number, condition, gender, BMI) %>%
group_by(gender) %>%
summarise(n=n(), BMI = mean(BMI)) %>%
kable()
data %>%
select(pp_number, condition, gender, BMI) %>%
group_by(gender) %>%
summarise(n=n(), BMI = mean(BMI, na.rm = TRUE)) %>%
kable()
data %>%
select(pp_number, condition, gender, BMI) %>%
group_by(gender, condition) %>%
summarise(n=n(), BMI = mean(BMI, na.rm = TRUE)) %>%
kable()
data %>%
select(pp_number, condition, gender, BMI) %>%
group_by( condition) %>%
summarise(n=n(), BMI = mean(BMI, na.rm = TRUE)) %>%
kable()
data %>%
select(pp_number, condition, gender, BMI) %>%
group_by( gender) %>%
summarise(n=n(), BMI = mean(BMI, na.rm = TRUE)) %>%
kable()
mean_BMI <- mean(data$BMI) %>%
round(., 2)
mean_BMI
# BMI
mean_BMI <- mean(data$BMI)
mean_BMI
# BMI
mean_BMI <- mean(data$BMI, na.rm = TRUE)
mean_BMI
# BMI
mean_BMI <- mean(data$BMI, na.rm = TRUE) %>%
round(.,2)
mean_BMI
sd_BMI <- sd(data$BMI, na.rm = TRUE) %>%
round(., 1)
# BMI
total_n <- nrow(data)
total_n
source('~/.active-rstudio-document', echo=TRUE)
data_sat <- read.csv("data/raw/stage3_satisfaction.csv") # reads in satisfaction data
data_sat <- read.csv("data/raw/stage3_satisfaction.csv") # reads in satisfaction data
data <- read.csv("data/study4.csv") # reads data
data <- read.csv("data/study4.csv") # reads data
setwd("C:/Users/Helena/OneDrive - University of Sussex/STUDY_4/study_4")
data <- read.csv("data/study4.csv") # reads data
knitr::opts_chunk$set(echo = FALSE, include = FALSE, error = FALSE, message = FALSE, warning = FALSE)
library(tidyverse)
library(kableExtra)
library(knitr)
# reads excel data sheet
data <- read.csv("data/study4.csv") # reads data
data <- read.csv("./data/study4.csv") # reads data
setwd("C:/Users/Helena/OneDrive - University of Sussex/STUDY_4/study_4")
data <- read.csv("./data/study4.csv") # reads data
data_sat <- read.csv("data/raw/stage3_satisfaction.csv") # reads in satisfaction data
data_sat <- read.csv("data/raw/stage3_satisfaction.csv") # reads in satisfaction data
data <- read.csv("/data/study4.csv") # reads data
knitr::opts_chunk$set(echo = FALSE, include = FALSE, error = FALSE, message = FALSE, warning = FALSE)
library(tidyverse)
library(kableExtra)
library(knitr)
data_sat <- read.csv("data/raw/stage3_satisfaction.csv") # reads in satisfaction data
data_sat <- read.csv("data/raw/stage3_satisfaction.csv") # reads in satisfaction data
data <- read.csv("../data/study4.csv") # reads data
data_sat <- read.csv("../data/raw/stage3_satisfaction.csv") # reads in satisfaction data
View(data)
View(data)
View(data_sat)
View(data_sat)
DA <- data %>%
select(pp_number, condition, gender, BMI)
DB <- data_sat %>%
select(pp_number, response, trialcode ) %>%
pivot_wider(names_from = trialcode, values_from = response)
DA <- data %>%
select(pp_number, condition, gender, BMI)
DB <- data_sat %>%
select(subject, response, trialcode ) %>%
pivot_wider(names_from = trialcode, values_from = response) %>%
rename(subject = pp_id)
DB <- data_sat %>%
select(subject, response, trialcode ) %>%
pivot_wider(names_from = trialcode, values_from = response) %>%
rename(pp_id = subject)
View(DB)
View(DB)
D1 <- inner_join(
DA,
DB,
by = pp_id,
suffix = c(".A", ".B"),
...,
keep = FALSE
)
D1 <- inner_join(
DA,
DB,
by = pp_id,
suffix = c(".A", ".B"),
keep = FALSE
)
DB <- data_sat %>%
select(subject, response, trialcode ) %>%
pivot_wider(names_from = trialcode, values_from = response) %>%
rename(pp_number = subject)
D1 <- inner_join(
DA,
DB,
by = pp_number,
suffix = c(".A", ".B"),
keep = FALSE
)
View(DA)
D1 <- inner_join(
DA,
DB,
by = "pp_number",
suffix = c(".A", ".B"),
keep = FALSE
)
View(D1)
DB <- data_sat %>%
select(subject, response, trialcode ) %>%
pivot_wider(names_from = trialcode, values_from = response) %>%
rename(pp_number = subject, wtp = VAS_wtp)
D1 <- inner_join(
DA,
DB,
by = "pp_number",
suffix = c(".A", ".B"),
keep = FALSE
) %>%
pivot_longer(cols =c(VAS, wtp) , names_to = "measure", values_to = "rating")
D1 <- inner_join( DA,
DB,
by = "pp_number",
suffix = c(".A", ".B"),
keep = FALSE
) %>%
pivot_longer(cols =c(VAS, wtp) ,
names_to = "measure",
values_to = "rating") %>%
mutate(alcohol = ifelse(condition %% 2 == 0, "NA", "A"))
satis_tib <- D1 %>%
group_by(condition) %>%
summarise(satisfaction = mean(VAS, na.rm = TRUE), WTP = mean(wtp, na.rm = TRUE))
## satisfaction
satis_tib <- D1 %>%
group_by(condition, measure) %>%
summarise(response = mean(response, na.rm = TRUE))
## satisfaction
satis_tib <- D1 %>%
group_by(condition, measure) %>%
summarise(response = mean(rating, na.rm = TRUE))
summarise(D1)
D1 <- inner_join( DA,
DB,
by = "pp_number",
suffix = c(".A", ".B"),
keep = FALSE
) %>%
pivot_longer(cols =c(VAS, wtp) ,
names_to = "measure",
values_to = "rating") %>%
mutate(alcohol = ifelse(condition %% 2 == 0, "NA", "A"))
head(D1)
summarise(D1)
summary(D1)
D1 <- inner_join( DA,
DB,
by = "pp_number",
keep = FALSE
) %>%
pivot_longer(cols =c(VAS, wtp) ,
names_to = "measure",
values_to = "rating") %>%
mutate(alcohol = ifelse(condition %% 2 == 0, "NA", "A"))
summarise(DA)
summary(DA)
summary(DB)
DB <- data_sat %>%
select(subject, response, trialcode ) %>%
pivot_wider(names_from = trialcode, values_from = response) %>%
rename(pp_number = subject, wtp = VAS_wtp)
DB <- data_sat %>%
select(subject, response, trialcode ) %>%
mutate(row = row_number()) %>%
pivot_wider(names_from = trialcode, values_from = response) %>%
rename(pp_number = subject, wtp = VAS_wtp)%>%
select(- row)
D1 <- inner_join( DA,
DB,
by = "pp_number",
keep = FALSE
) %>%
pivot_longer(cols =c(VAS, wtp) ,
names_to = "measure",
values_to = "rating") %>%
mutate(alcohol = ifelse(condition %% 2 == 0, "NA", "A"))
summary(D1)
## satisfaction
satis_tib <- D1 %>%
group_by(condition, measure) %>%
summarise(response = mean(rating, na.rm = TRUE))
satis_tib
DA$pp_number
type(DA$pp_number)
summary(DA)
summary(DB)
knitr::opts_chunk$set(
echo = TRUE,
error = FALSE,
message = FALSE,
warning = FALSE
)
library(tidyverse)
library(kableExtra)
library(knitr)
moodS1 <- read.csv(../data/raw/mstage1_mood) %>%
select(subject, stimulusitem2, stimulusitem3, response)
moodS1 <- read.csv(data/raw/mstage1_mood) %>%
select(subject, stimulusitem2, stimulusitem3, response)
moodS1 <- read.csv(data/raw/mstage1_mood)
# mood data
moodS1 <- read.csv(data/raw/stage1_mood)
# mood data
moodS1 <- read.csv("../data/raw/stage1_mood.csv") %>%
select(subject, stimulusitem2, stimulusitem3, response)
moodS1 <- read.csv("../data/raw/stage1_mood.csv") %>%
select(subject, stimulusitem2, stimulusitem3, response)
moodS2 <- read.csv("../data/raw/stage2_mood.csv") %>%
select(subject, stimulusitem2, stimulusitem3, response)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, stimulusitem3, response)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, stimulusitem3, response)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, stimulusitem3, response) %>%
rename(response3=response)
mood1 <- read.csv("../data/raw/stage1_mood.csv") %>%
select(subject, stimulusitem2, response)%>%
rename(response1=response, feeling1 = stimulusitem2)
mood2 <- read.csv("../data/raw/stage2_mood.csv") %>%
select(subject, stimulusitem2,  response)%>%
rename(response2=response,  feeling2 = stimulusitem2)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, response) %>%
rename(response3=response,  feeling3 = stimulusitem2)
View(mood2)
View(mood2)
D2 <- inner_join(mood1, mood2, mood3,
by = "subject",
keep = FALSE)
head(D2)
# mood data
mood1 <- read.csv("../data/raw/stage1_mood.csv") %>%
select(subject, stimulusitem2, response)%>%
rename(response1=response, feeling1 = stimulusitem2) %>%
pivot_wider(names_from = feeling1, values_from = response1)
View(mood1)
View(mood1)
mood2 <- read.csv("../data/raw/stage2_mood.csv") %>%
select(subject, stimulusitem2,  response)%>%
rename(response2=response,  feeling2 = stimulusitem2)%>%
pivot_wider(names_from = feeling2, values_from = response2)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, response) %>%
rename(response3=response,  feeling3 = stimulusitem2)%>%
pivot_wider(names_from = feeling3, values_from = response3)
D2 <- inner_join(mood1, mood2, mood3,
by = "subject",
suffix = c(".s1", ".s2, .s3"),
keep = FALSE)
View(D2)
View(D2)
D2 <- inner_join(mood1, mood2, mood3,
by = "subject",
suffix = c(".s1", ".s2, .s3"),
keep = FALSE) %>%
pivot_longer(cols = ends_with(".s1, .s2, .s3"),
names_to = "feeling",
values_to = "rating")
D2 <- inner_join(mood1, mood2, mood3,
by = "subject",
suffix = c(".s1", ".s2, .s3"),
keep = FALSE) %>%
pivot_longer(cols = ends_with(".s1", ".s2", ".s3"),
names_to = "feeling",
values_to = "rating")
D2 <- inner_join(mood1, mood2, mood3,
by = "subject",
suffix = c(".s1", ".s2, .s3"),
keep = FALSE) %>%
pivot_longer(cols = ends_with(".s1" or ".s2" or ".s3"),
D2 <- inner_join(mood1, mood2, mood3,
by = "subject",
suffix = c(".s1", ".s2, .s3"),
keep = FALSE) %>%
pivot_longer(cols = c(ends_with(".s1" or ".s2" or ".s3")),
# mood data
mood1 <- read.csv("../data/raw/stage1_mood.csv") %>%
select(subject, stimulusitem2, response)%>%
rename(response1=response, feeling1 = stimulusitem2)
mood2 <- read.csv("../data/raw/stage2_mood.csv") %>%
select(subject, stimulusitem2,  response)%>%
rename(response2=response,  feeling2 = stimulusitem2)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, response) %>%
rename(response3=response,  feeling3 = stimulusitem2)
D2 <- inner_join(mood1, mood2,
by = "subject",
keep = FALSE) %>%
inner_join(., mood3,
by = "subject",
keep = FALSE)
mood1 <- read.csv("../data/raw/stage1_mood.csv") %>%
select(subject, stimulusitem2, response)%>%
rename(response1=response, feeling1 = stimulusitem2)%>%
mutate(stage = 1)
mood2 <- read.csv("../data/raw/stage2_mood.csv") %>%
select(subject, stimulusitem2,  response)%>%
rename(response2=response,  feeling2 = stimulusitem2)%>%
mutate(stage = 2)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, response) %>%
rename(response3=response,  feeling3 = stimulusitem2)%>%
mutate(stage = 3)
mood1 <- read.csv("../data/raw/stage1_mood.csv") %>%
select(subject, stimulusitem2, response)%>%
rename(response1=response, feeling = stimulusitem2)%>%
mutate(stage = 1)
mood2 <- read.csv("../data/raw/stage2_mood.csv") %>%
select(subject, stimulusitem2,  response)%>%
rename(response2=response,  feeling = stimulusitem2)%>%
mutate(stage = 2)
mood3 <- read.csv("../data/raw/stage3_mood.csv") %>%
select(subject, stimulusitem2, response) %>%
rename(response3=response,  feeling = stimulusitem2)%>%
mutate(stage = 3)
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE) %>%
pivot_longer(
cols = starts_with("stage"),
names_to = "stageX",
values_to = "stage" )
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE) %>%
pivot_longer(
cols = starts_with("stage"),
names_to = "stagename",
values_to = "stage" )%>%
select(- stagename)
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)%>%
select(- starts_with("stage"))
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)%>%
select(- starts_with("stage")) %>%
mutate(condition = div(subject,1000))
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)%>%
select(- starts_with("stage")) %>%
mutate(condition = subject  %/% 1000)
D2 %>% group_by(condition) %>%
summarise()
D2 %>% group_by(condition, feeling) %>%
summarise(rating = mean(feeling), sd_f = sd(feeling))
D2 %>% group_by(condition, feeling) %>%
summarise(rating = mean(feeling, na.rm = TRUE), sd_f = sd(feeling, na.rm = TRUE))
D2 %>% group_by( feeling) %>%
summarise(rating = mean(feeling, na.rm = TRUE), sd_f = sd(feeling, na.rm = TRUE))
D2 %>% group_by( feeling) %>%
summarise(rating = mean(response, na.rm = TRUE), sd_f = sd(response, na.rm = TRUE))
D2 %>% group_by(feeling) %>%
summarise(rating = mean(response, na.rm = TRUE), sd_f = sd(response, na.rm = TRUE))
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)%>%
select(- starts_with("stage")) %>%
mutate(condition = subject  %/% 1000) %>%
pivot_longer(cols = starts_with("response"),
names_to = "stage",
values_to = "rating")
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)%>%
select(- starts_with("stage")) %>%
mutate(condition = subject  %/% 1000) %>%
pivot_longer(cols = starts_with("response"),
names_to = "stage",
names_prefix = "response"
values_to = "rating")
D2 <- inner_join(mood1, mood2,
by = c("subject", "feeling"),
keep = FALSE) %>%
inner_join(., mood3,
by = c("subject","feeling"),
keep = FALSE)%>%
select(- starts_with("stage")) %>%
mutate(condition = subject  %/% 1000) %>%
pivot_longer(cols = starts_with("response"),
names_to = "stage",
names_prefix = "response",
values_to = "rating")
D2 %>% group_by(feeling) %>%
summarise(rating = mean(response, na.rm = TRUE), sd_f = sd(response, na.rm = TRUE))
D2 %>% group_by(feeling, stage) %>%
summarise(rating = mean(rating, na.rm = TRUE), sd_f = sd(rating, na.rm = TRUE))
D2 %>% group_by(feeling, stage) %>%
summarise(rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))
class(D2$rating)
D2 %>% group_by(feeling, stage) %>%
summarise(rating = mean(m_rating, na.rm = TRUE), sd_f = sd(rating))
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating)) %>%
round(digits = c(0,1,1))
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating)) %>%
round(digits = c(0,0,1,1))
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating)) %>%
round(digits = c(0,0,1,1)) %>%                   # Using dplyr functions
mutate_if(is.numeric,
round,
digits = 1)
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))%>%  # Using dplyr functions
mutate_if(is.numeric,
round,
digits = 1)
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))%>%  # Using dplyr functions
mutate_if(is.numeric,
round,
digits = 1)%>%
rename(mean = m_rating, sd = sd_f)
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))%>%  # Using dplyr functions
mutate_if(is.numeric,
round,
digits = 1)%>%
rename(mean = m_rating, sd = sd_f)%>%
kable_styling()
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))%>%  # Using dplyr functions
mutate_if(is.numeric,
round,
digits = 1)%>%
rename(mean = m_rating, sd = sd_f)%>%
knitr()
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))%>%  # Using dplyr functions
mutate_if(is.numeric,
round,
digits = 1)%>%
rename(mean = m_rating, sd = sd_f)%>%
kable()
D2 %>% group_by(feeling, stage) %>%
summarise(m_rating = mean(rating, na.rm = TRUE), sd_f = sd(rating))%>%  # Using dplyr functions
mutate_if(is.numeric,
round,
digits = 1)%>%
rename(mean = m_rating, sd = sd_f)%>%
kable() %>%
kable_styling(full_width = TRUE,
"striped")
